<div>
  <!--<h2 translate>search</h2>-->
  <div ng-if="headerTemplateUrl" ng-include="headerTemplateUrl"></div>

  <obiba-alert id="SearchController"></obiba-alert>

  <!-- Classifications region -->
  <div>
    <!--<div>-->
    <div class="row">
      <div class="col-xs-3"></div>
      <div class="col-xs-6">
        <script type="text/ng-template" id="customTemplate.html">
          <a ng-if="match.model.id">
            <span title="{{match.model.target + '-classifications' | translate}}">
              <i class="{{'i-obiba-' + match.model.target}}"></i>
            </span>
            <span title="{{match.model.itemDescription}}">{{match.model.itemTitle}}</span>
            <small class="help-block no-margin hoffset3" title="{{match.model.itemParentDescription}}">
              {{match.model.itemParentTitle}}
            </small>
          </a>
          <a ng-if="!match.model.id" class="{{match.model.status}}">
            <small class="help-block no-margin">
              {{match.model.message}}
            </small>
          </a>
        </script>
        <a href>
        <span class="input-group input-group-sm no-padding-top">
          <input type="text" ng-model="selectedCriteria" placeholder="{{'search.placeholder' | translate}}"
            uib-typeahead="criteria for criteria in searchCriteria($viewValue)"
            typeahead-min-length="2"
            typeahead-loading="documents.search.active"
            typeahead-template-url="customTemplate.html"
            typeahead-on-select="selectCriteria($item)"
            class="form-control">
          <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
        </span>
        </a>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-3"></div>
      <div class="col-xs-6">
        <ul class="nav nav-pills">
          <li ng-show="settingsDisplay.variables.showSearchTab" ng-class="{'active': taxonomies.target === 'variable' && taxonomiesShown}"
            title="{{'variable-classifications' | translate}}">
            <a ng-click="selectTaxonomyTarget('variable')" translate>variables</a>
          </li>
          <li ng-show="settingsDisplay.datasets.showSearchTab" ng-class="{'active': taxonomies.target === 'dataset' && taxonomiesShown}"
            title="{{'dataset-classifications' | translate}}">
            <a ng-click="selectTaxonomyTarget('dataset')" translate>datasets</a>
          </li>
          <li ng-show="settingsDisplay.studies.showSearchTab" ng-class="{'active': taxonomies.target === 'study' && taxonomiesShown}"
            title="{{'study-classifications' | translate}}">
            <a ng-click="selectTaxonomyTarget('study')" translate>studies</a>
          </li>
          <li ng-show="settingsDisplay.networks.showSearchTab" ng-class="{'active': taxonomies.target === 'network' && taxonomiesShown}"
            title="{{'network-classifications' | translate}}">
            <a ng-click="selectTaxonomyTarget('network')" translate>networks</a>
          </li>
        </ul>
      </div>
    </div>
    <div id="taxonomies" class="collapse">
      <div ng-include="'search/views/classifications/taxonomies-view.html'"></div>
    </div>
  </div>

  <!-- Search criteria region -->
  <div class="voffset3">
    <div class="row">
      <div class="col-xs-12">
        <div criteria-root item="search.criteria" on-remove="removeCriteriaItem" on-select="updateTerm" on-refresh="refreshQuery"></div>
      </div>
    </div>
  </div>

  <!-- Results region -->
  <div class="voffset3">
    <result-panel display="search.display" type="search.type" result="search.result" loading="search.loading" on-type-changed="onTypeChanged"></result-panel>
  </div>
</div>