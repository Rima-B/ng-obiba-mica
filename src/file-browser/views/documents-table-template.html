<div class="panel panel-default table-responsive" ng-if="!data.search.active || data.document.children.length>0">
  <div class="panel-heading" ng-if="selected.length > 0">
    <small>
      {{selected.length}} <span>{{selected.length > 1 ? 'files-selected' : 'file-selected'| translate}}</span>.
      <a href="" ng-click="selectAll()" ng-if="selected.length < data.document.children.length"><i class="fa fa-check"></i> <span translate>select-all</span></a>
      <a href="" ng-click="clearSelection()"><i class="fa fa-times"></i> <span translate>clear-selection</span></a>
    </small>
  </div>
  <table class="table table-bordered table-striped no-padding no-margin">
    <thead>
    <tr>
      <th><input type="checkbox" ng-checked="!hasUnselected && data.document.children.length" ng-click="selectPage()"></th>
      <th translate>name</th>
      <th translate>last-modified</th>
      <th translate>size</th>
      <th ng-if="data.search.active" translate>path</th>
      <th translate>actions</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-show="!data.isRoot && data.document.path !== data.rootPath && !data.search.active">
      <td></td>
      <td colspan="5">
        <i class="fa fa-folder"></i>
        <span><a href class="no-text-decoration" ng-click="navigateBack()"> ..</a></span>
      </td>
    </tr>
    <tr dir-paginate="document in data.document.children | itemsPerPage: pagination.itemsPerPage" ng-init="fileDocument = isFile(document)" current-page="pagination.currentPage">

      <td><input type="checkbox" ng-model="document.selected"></td>
      <td>
        <span ng-if="fileDocument">
          <i class="fa {{getDocumentIcon(document)}}"></i>

          <a ng-if="fileDocument" target="_self"
             style="text-decoration: none" ng-href="{{getDownloadUrl(document.path)}}"
              title="{{document.name}}">
            {{truncate(document.name, 50)}}
          </a>
        </span>
        <span ng-if="!fileDocument">
          <i class="fa {{getDocumentIcon(document)}}"></i>
          <a href style="text-decoration: none" ng-click="navigateTo(document)">
            {{document.name}}
          </a>
        </span>
      </td>
      <td>
        {{document.timestamps.lastUpdate | amTimeAgo}}
      </td>
      <td class="no-wrap" ng-if="fileDocument">
        {{document.size | bytes}}
      </td>
      <td class="no-wrap" ng-if="!fileDocument">
        {{document.size}}
      </td>
      <td ng-if="data.search.active">
        <a href class="no-text-decoration" ng-click="navigateToParent(document)">
          {{document.state.attachment.path}}
        </a>
      </td>

      <td>
        <ul class="list-inline">
          <li ng-if="document.permissions.view && fileDocument">
            <a target="_self" ng-href="ws/draft/file-dl/{{document.path}}"><i class="fa fa-download"></i></a>
          </li>
          <li ng-if="document.permissions.delete && document.revisionStatus === 'DELETED'">
            <a href ng-click="deleteDocument(document)"><i class="fa fa-trash"></i></a>
          </li>
        </ul>
      </td>
    </tr>
    </tbody>
  </table>
</div>