<div class="panel panel-default table-responsive table-responsive-dropdown" ng-if="!data.search.active || data.document.children.length>0">
  <div class="panel-heading" ng-if="selected.length > 0">
    <small>
      {{selected.length}} <span>{{selected.length > 1 ? 'files-selected' : 'file-selected'| translate}}</span>.
      <a href="" ng-click="selectAll()" ng-if="selected.length < data.document.children.length">
        <i class="fa fa-check"></i> <span translate>select-all</span>
      </a>
      <a href="" ng-click="clearSelection()"><i class="fa fa-times"></i> <span translate>clear-selection</span></a>
    </small>
  </div>
  <table class="table table-bordered table-striped no-padding no-margin">
    <thead>
    <tr>
      <th translate>name</th>
      <th translate>last-modified</th>
      <th translate>type</th>
      <th translate>size</th>
      <th ng-if="data.search.active" translate>path</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-show="!data.isRoot && data.document.path !== data.rootPath && !data.search.active">
      <td colspan="5">
        <i class="fa fa-folder"></i>
        <span><a href class="no-text-decoration" ng-click="navigateBack()"> ..</a></span>
      </td>
    </tr>
    <tr dir-paginate="document in data.document.children | itemsPerPage: pagination.itemsPerPage"
        ng-init="fileDocument = isFile(document)"
        current-page="pagination.currentPage">

      <td>
        <span>
          <span ng-if="fileDocument">
            <i class="fa {{getDocumentIcon(document)}}"></i>

            <a ng-if="fileDocument" target="_self"
               style="text-decoration: none" ng-href="{{getDownloadUrl(document.path)}}"
                title="{{document.name}}">
              {{document.name}}
            </a>
          </span>
          <span ng-if="!fileDocument">
            <i class="fa {{getDocumentIcon(document)}}"></i>
            <a href style="text-decoration: none" ng-click="navigateTo(document)">
              {{document.name}}
            </a>
          </span>
          <span class="spring-click-area" ng-click="showDetails(document)">&nbsp;</span>
          <span class="btn-group pull-right" uib-dropdown is-open="status.isopen">
            <a title="{{'show-details' | translate}}" id="single-button" class="dropdown-anchor" uib-dropdown-toggle ng-disabled="disabled">
              <i class="glyphicon glyphicon-option-horizontal btn-large"></i>
            </a>
            <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
              <li role="menuitem">
                <a href ng-click="showDetails(document)">
                  <span><i class="fa fa-info"></i><span class="hoffset2">{{'details' | translate}}</span></span>
                </a>
              </li>
              <li role="menuitem">
                <a href="#">
                  <span><i class="fa fa-download"></i><span class="hoffset2">{{'download' | translate}}</span></span>
                </a>
              </li>
            </ul>
          </span>
        </span>
      </td>
      <td>
        {{document.timestamps.lastUpdate | amTimeAgo}}
      </td>
      <td>
        <span ng-repeat="t in getTypeParts(document) track by $index"
              class="label label-default"
              ng-class="{'hoffset1' : !$first}">{{t}}</span>
      </td>
      <td class="no-wrap" ng-if="fileDocument">
        {{document.size | bytes}}
      </td>
      <td class="no-wrap" ng-if="!fileDocument">
        {{document.size}}
      </td>
      <td ng-if="data.search.active">
        <a href class="no-text-decoration" ng-click="navigateToParent(document)">
          {{document.attachment.path.replace(data.rootPath, '')}}
        </a>
      </td>

    </tr>
    </tbody>
  </table>
</div>